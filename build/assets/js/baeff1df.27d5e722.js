"use strict";(self.webpackChunksmart_badge_docs=self.webpackChunksmart_badge_docs||[]).push([[864],{7969:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"api/authentication","title":"Authentication","description":"Learn how to authenticate with the SmartBadge API for advanced features.","source":"@site/docs/api/authentication.md","sourceDirName":"api","slug":"/api/authentication","permalink":"/docs/api/authentication","draft":false,"unlisted":false,"editUrl":"https://github.com/amiable-dev/smart-badge-docs/tree/main/docs/api/authentication.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"API Endpoints","permalink":"/docs/api/endpoints"},"next":{"title":"Interactive Badge Generator","permalink":"/docs/interactive/badge-generator"}}');var s=i(4848),t=i(8453);const a={},o="Authentication",l={},c=[{value:"API Keys",id:"api-keys",level:2},{value:"Getting Your API Key",id:"getting-your-api-key",level:3},{value:"API Key Types",id:"api-key-types",level:3},{value:"Authentication Methods",id:"authentication-methods",level:2},{value:"Bearer Token (Recommended)",id:"bearer-token-recommended",level:3},{value:"Query Parameter (Public APIs Only)",id:"query-parameter-public-apis-only",level:3},{value:"Environment Setup",id:"environment-setup",level:2},{value:"Development vs Production",id:"development-vs-production",level:3},{value:"Key Prefixes",id:"key-prefixes",level:3},{value:"Security Best Practices",id:"security-best-practices",level:2},{value:"Secure Storage",id:"secure-storage",level:3},{value:"Key Rotation",id:"key-rotation",level:3},{value:"IP Restrictions (Enterprise)",id:"ip-restrictions-enterprise",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Authentication Errors",id:"authentication-errors",level:3},{value:"Rate Limiting",id:"rate-limiting",level:3},{value:"Testing Authentication",id:"testing-authentication",level:2},{value:"SDK Authentication",id:"sdk-authentication",level:2},{value:"JavaScript/Node.js",id:"javascriptnodejs",level:3},{value:"Python",id:"python",level:3},{value:"Go",id:"go",level:3},{value:"Webhook Authentication",id:"webhook-authentication",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"authentication",children:"Authentication"})}),"\n",(0,s.jsx)(n.p,{children:"Learn how to authenticate with the SmartBadge API for advanced features."}),"\n",(0,s.jsx)(n.h2,{id:"api-keys",children:"API Keys"}),"\n",(0,s.jsxs)(n.p,{children:["SmartBadge uses API keys for authentication. Get your API key from the ",(0,s.jsx)(n.a,{href:"https://smartbadge.io/dashboard",children:"SmartBadge Dashboard"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"getting-your-api-key",children:"Getting Your API Key"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Sign up"})," at ",(0,s.jsx)(n.a,{href:"https://smartbadge.io",children:"smartbadge.io"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Verify your email"})," and complete onboarding"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Visit Dashboard"})," \u2192 API Keys section"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Generate new key"})," with appropriate permissions"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"api-key-types",children:"API Key Types"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Read-Only Keys:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Get analysis data"}),"\n",(0,s.jsx)(n.li,{children:"Generate badges"}),"\n",(0,s.jsx)(n.li,{children:"Search repositories"}),"\n",(0,s.jsx)(n.li,{children:"Good for client-side applications"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Full Access Keys:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"All read operations"}),"\n",(0,s.jsx)(n.li,{children:"Refresh analysis cache"}),"\n",(0,s.jsx)(n.li,{children:"Batch operations"}),"\n",(0,s.jsx)(n.li,{children:"Webhook management"}),"\n",(0,s.jsx)(n.li,{children:"Required for server-side integrations"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"authentication-methods",children:"Authentication Methods"}),"\n",(0,s.jsx)(n.h3,{id:"bearer-token-recommended",children:"Bearer Token (Recommended)"}),"\n",(0,s.jsx)(n.p,{children:"Include your API key in the Authorization header:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl -H "Authorization: Bearer sk_live_1234567890abcdef" \\\n     https://api.smartbadge.io/v1/analyze/owner/repo\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// JavaScript/Node.js\nconst response = await fetch('https://api.smartbadge.io/v1/analyze/owner/repo', {\n  headers: {\n    'Authorization': 'Bearer sk_live_1234567890abcdef'\n  }\n});\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Python\nimport requests\n\nheaders = {\n    'Authorization': 'Bearer sk_live_1234567890abcdef'\n}\nresponse = requests.get('https://api.smartbadge.io/v1/analyze/owner/repo', headers=headers)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"query-parameter-public-apis-only",children:"Query Parameter (Public APIs Only)"}),"\n",(0,s.jsx)(n.p,{children:"For public badge generation, you can use query parameters:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl "https://smartbadge.io/badge/owner/repo/semantic.svg?api_key=sk_live_1234567890abcdef"\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u26a0\ufe0f ",(0,s.jsx)(n.strong,{children:"Security Warning"}),": Only use query parameters for public badge URLs. Never expose API keys in client-side code or public URLs for sensitive operations."]}),"\n",(0,s.jsx)(n.h2,{id:"environment-setup",children:"Environment Setup"}),"\n",(0,s.jsx)(n.h3,{id:"development-vs-production",children:"Development vs Production"}),"\n",(0,s.jsx)(n.p,{children:"Use different API keys for different environments:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Development\nexport SMARTBADGE_API_KEY=sk_test_1234567890abcdef\n\n# Production  \nexport SMARTBADGE_API_KEY=sk_live_0987654321fedcba\n"})}),"\n",(0,s.jsx)(n.h3,{id:"key-prefixes",children:"Key Prefixes"}),"\n",(0,s.jsx)(n.p,{children:"SmartBadge API keys use prefixes to indicate their type:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"sk_test_"})," - Test/development keys"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"sk_live_"})," - Production keys"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pk_"})," - Public/read-only keys"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"security-best-practices",children:"Security Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"secure-storage",children:"Secure Storage"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u2705 Do:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Store API keys in environment variables"}),"\n",(0,s.jsx)(n.li,{children:"Use secure configuration management"}),"\n",(0,s.jsx)(n.li,{children:"Rotate keys regularly (quarterly recommended)"}),"\n",(0,s.jsx)(n.li,{children:"Use least-privilege principle (read-only when possible)"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u274c Don't:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Commit API keys to version control"}),"\n",(0,s.jsx)(n.li,{children:"Include keys in client-side JavaScript"}),"\n",(0,s.jsx)(n.li,{children:"Share keys in chat/email/documentation"}),"\n",(0,s.jsx)(n.li,{children:"Use production keys in development"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"key-rotation",children:"Key Rotation"}),"\n",(0,s.jsx)(n.p,{children:"Rotate API keys regularly for security:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Generate new key"})," in dashboard"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Update applications"})," with new key"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Test functionality"})," with new key"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Revoke old key"})," after verification"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"ip-restrictions-enterprise",children:"IP Restrictions (Enterprise)"}),"\n",(0,s.jsx)(n.p,{children:"Enterprise accounts can restrict API keys to specific IP addresses:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Configure in dashboard or via API\ncurl -X PATCH https://api.smartbadge.io/v1/api-keys/sk_live_123 \\\n  -H "Authorization: Bearer sk_live_123" \\\n  -d \'{"allowed_ips": ["203.0.113.1", "198.51.100.0/24"]}\'\n'})}),"\n",(0,s.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsx)(n.h3,{id:"authentication-errors",children:"Authentication Errors"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"401 Unauthorized - Missing API Key:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": {\n    "code": "MISSING_API_KEY",\n    "message": "API key required for this endpoint"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"401 Unauthorized - Invalid API Key:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": {\n    "code": "INVALID_API_KEY", \n    "message": "The provided API key is invalid or has been revoked"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"403 Forbidden - Insufficient Permissions:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": {\n    "code": "INSUFFICIENT_PERMISSIONS",\n    "message": "This API key does not have permission for this operation"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"rate-limiting",children:"Rate Limiting"}),"\n",(0,s.jsx)(n.p,{children:"API keys have different rate limits based on plan:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "error": {\n    "code": "RATE_LIMIT_EXCEEDED",\n    "message": "Rate limit exceeded for API key",\n    "details": {\n      "limit": 1000,\n      "window": "1h", \n      "reset_at": "2024-01-15T11:00:00Z"\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"testing-authentication",children:"Testing Authentication"}),"\n",(0,s.jsx)(n.p,{children:"Test your API key setup:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Test basic authentication\ncurl -H "Authorization: Bearer your-key-here" \\\n     https://api.smartbadge.io/v1/user/profile\n\n# Expected response\n{\n  "user": {\n    "email": "user@example.com",\n    "plan": "pro",\n    "api_key_permissions": ["read", "write"]\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"sdk-authentication",children:"SDK Authentication"}),"\n",(0,s.jsx)(n.h3,{id:"javascriptnodejs",children:"JavaScript/Node.js"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"import { SmartBadge } from '@smartbadge/client';\n\nconst client = new SmartBadge({\n  apiKey: process.env.SMARTBADGE_API_KEY,\n  environment: 'production' // or 'development'\n});\n\n// Automatic authentication handling\nconst analysis = await client.analyze('owner/repo');\n"})}),"\n",(0,s.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import os\nfrom smartbadge import SmartBadge\n\nclient = SmartBadge(\n    api_key=os.environ['SMARTBADGE_API_KEY']\n)\n\nanalysis = client.analyze('owner/repo')\n"})}),"\n",(0,s.jsx)(n.h3,{id:"go",children:"Go"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'import (\n    "os"\n    "github.com/smartbadge/go-client"\n)\n\nclient := smartbadge.New(os.Getenv("SMARTBADGE_API_KEY"))\nanalysis, err := client.Analyze("owner/repo")\n'})}),"\n",(0,s.jsx)(n.h2,{id:"webhook-authentication",children:"Webhook Authentication"}),"\n",(0,s.jsx)(n.p,{children:"Verify webhook authenticity using signatures:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Verify webhook signature\nconst crypto = require('crypto');\n\nfunction verifyWebhook(payload, signature, secret) {\n  const expectedSignature = crypto\n    .createHmac('sha256', secret)\n    .update(payload)\n    .digest('hex');\n    \n  return crypto.timingSafeEqual(\n    Buffer.from(signature),\n    Buffer.from(`sha256=${expectedSignature}`)\n  );\n}\n\n// Express.js example\napp.post('/webhook', (req, res) => {\n  const signature = req.headers['x-smartbadge-signature'];\n  \n  if (verifyWebhook(req.body, signature, process.env.WEBHOOK_SECRET)) {\n    // Process webhook\n    res.status(200).send('OK');\n  } else {\n    res.status(401).send('Unauthorized');\n  }\n});\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Need help with authentication setup? Check our ",(0,s.jsx)(n.a,{href:"../interactive/api-playground",children:"interactive API playground"})," or contact ",(0,s.jsx)(n.a,{href:"mailto:support@smartbadge.io",children:"support@smartbadge.io"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var r=i(6540);const s={},t=r.createContext(s);function a(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);